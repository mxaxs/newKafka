(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[15],{375:function(t,e,s){s.r(e);var i=s(2),r=s(0);s.n(r);var n=s(1),a=s(127);t=s(48);var h=s(80),o=s(207),u=s(58),c=s(206);s=s(302);var E,f=window,d=function(){function t(t,e,s){var i=-1===t.indexOf("?")?"?":"&";switch(e){case u.a.NEVER_CACHE:this.url=t+i+"_="+Object(r.uniqueId)();break;default:this.url=t}this.me=s,this.request=new XMLHttpRequest,this.request.open("GET",this.url,!0),this.request.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined"),this.status=c.a.NOT_STARTED}return t.prototype.start=function(e,s){var i,r=this,n=this,a=this.request;n.Ct=0,e&&Object.keys(e).forEach((function(t){r.request.setRequestHeader(t,e[t])})),s&&(this.request.withCredentials=s),this.Ez=setInterval((function(){var e=0===window.document.URL.indexOf("file:///");if(e=200===a.status||e&&0===a.status,a.readyState!==c.b.DONE||e){try{a.responseText}catch(s){return}n.Ct<a.responseText.length&&(i=n.n7())&&n.trigger(t.Events.DATA,[i]),0===a.readyState&&(clearInterval(n.Ez),n.trigger(t.Events.DONE))}else clearInterval(n.Ez),n.trigger(t.Events.DONE,["Error received return status "+a.status])}),1e3),this.request.send(null),this.status=c.a.STARTED},t.prototype.n7=function(){var e=this.request,s=e.responseText;if(0!==s.length){if(this.Ct!==s.length)return s=Math.min(this.Ct+3e6,s.length),e=f.BM(e,this.Ct,!0,s),this.Ct=s,e;clearInterval(this.Ez),this.trigger(t.Events.DONE)}},t.prototype.abort=function(){clearInterval(this.Ez);var e=this;this.request.onreadystatechange=function(){return Object(n.j)("StreamingRequest aborted"),e.status=c.a.ABORTED,e.trigger(t.Events.ABORTED)},this.request.abort()},t.prototype.finish=function(){var e=this;this.request.onreadystatechange=function(){return e.status=c.a.SUCCESS,e.trigger(t.Events.DONE)},this.request.abort()},t.Events={DONE:"done",DATA:"data",ABORTED:"aborted"},t}();Object(t.a)(d),function(t){t[t.LOCAL_HEADER=0]="LOCAL_HEADER",t[t.FILE=1]="FILE",t[t.CENTRAL_DIR=2]="CENTRAL_DIR"}(E||(E={}));var l=function(t){function e(){var e=t.call(this)||this;return e.buffer="",e.state=E.LOCAL_HEADER,e.LG=4,e.Tj=null,e.iq=a.c,e.fl={},e}return Object(i.c)(e,t),e.prototype.i7=function(t){var s;for(t=this.buffer+t;t.length>=this.iq;)switch(this.state){case E.LOCAL_HEADER:if(this.Tj=s=this.r7(t.slice(0,this.iq)),s.Hq!==a.g)throw Error("Wrong signature in local header: "+s.Hq);t=t.slice(this.iq),this.state=E.FILE,this.iq=s.qC+s.Fn+s.Cs+this.LG,this.trigger(e.Events.HEADER,[s]);break;case E.FILE:this.Tj.name=t.slice(0,this.Tj.Fn),this.fl[this.Tj.name]=this.Tj,s=this.iq-this.LG;var i=t.slice(this.Tj.Fn+this.Tj.Cs,s);if(this.trigger(e.Events.FILE,[this.Tj.name,i,this.Tj.DC]),t=t.slice(s),t.slice(0,this.LG)!==a.h)return this.state=E.CENTRAL_DIR,!0;this.state=E.LOCAL_HEADER,this.iq=a.c}return this.buffer=t,!1},e.Events={HEADER:"header",FILE:"file"},e}(o.a);Object(t.a)(l),t=function(t){function e(e,s,i,r,n){return i=t.call(this,e,i,r)||this,i.url=e,i.stream=new d(e,s),i.cd=new l,i.iP=window.createPromiseCapability(),i.IP={},i.me=n,i}return Object(i.c)(e,t),e.prototype.qu=function(t){var e=this;return this.request([this.Lh,this.Xi,this.Kh]),this.stream.addEventListener(d.Events.DATA,(function(s){try{if(e.cd.i7(s))return e.stream.finish()}catch(i){throw e.stream.abort(),e.As(i),t(i),i}})),this.stream.addEventListener(d.Events.DONE,(function(s){e.O6=!0,e.iP.resolve(),s&&(e.As(s),t(s))})),this.cd.addEventListener(l.Events.HEADER,Object(r.bind)(this.HP,this)),this.cd.addEventListener(l.Events.FILE,Object(r.bind)(this.H7,this)),this.stream.start(this.me,this.withCredentials)},e.prototype.zM=function(t){var e=this;this.iP.promise.then((function(){t(Object.keys(e.cd.fl))}))},e.prototype.Jl=function(){return!0},e.prototype.request=function(t){var e=this;this.O6&&t.forEach((function(t){e.IP[t]||e.vaa(t)}))},e.prototype.HP=function(){},e.prototype.abort=function(){this.stream&&this.stream.abort()},e.prototype.vaa=function(t){this.trigger(h.a.Events.PART_READY,[{Ra:t,error:"Requested part not found",Tg:!1,Ye:!1}])},e.prototype.H7=function(t,e,s){this.IP[t]=!0,this.trigger(h.a.Events.PART_READY,[{Ra:t,data:e,Tg:!1,Ye:!1,error:null,qc:s}])},e}(h.a),Object(s.a)(t),Object(s.b)(t),e["default"]=t}}])}).call(this||window);