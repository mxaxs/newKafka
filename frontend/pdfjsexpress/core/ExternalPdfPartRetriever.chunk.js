(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[9],{373:function(e,t,r){r.r(t);var n=r(2);e=r(48);var i=r(139),s=r(302),a=r(387),o=window;r=function(){function e(e,t){this.AN=function(e){return e=e.split("."),e[e.length-1].match(/(jpg|jpeg|png|gif)$/i)},t=t||{},this.url=e,this.filename=t.filename||e,this.me=t.customHeaders,this.Raa=!!t.useDownloader,this.withCredentials=!!t.withCredentials}return e.prototype.aA=function(e){this.me=e},e.prototype.getCustomHeaders=function(){return this.me},e.prototype.getFileData=function(t){var r=this,s=this,o=new XMLHttpRequest,u=0===this.url.indexOf("blob:")?"blob":"arraybuffer";o.open("GET",this.url,!0),o.withCredentials=this.withCredentials,o.responseType=u,this.me&&Object.keys(this.me).forEach((function(e){o.setRequestHeader(e,r.me[e])}));var l=/^https?:/i.test(this.url);o.addEventListener("load",(function(r){return Object(n.b)(this,void 0,void 0,(function(){var o,u,c,h,f,d;return Object(n.d)(this,(function(n){switch(n.label){case 0:return 200===this.status||!l&&0===this.status?(s.trigger(e.Events.DOCUMENT_LOADING_PROGRESS,[r.loaded,r.loaded]),"blob"!==this.responseType?[3,4]:(o=this.response,s.AN(s.filename)?[4,Object(a.a)(o)]:[3,2])):[3,10];case 1:return u=n.fa(),s.fileSize=u.byteLength,t(new Uint8Array(u)),[3,3];case 2:c=new FileReader,c.onload=function(e){e=new Uint8Array(e.target.result),s.fileSize=e.length,t(e)},c.readAsArrayBuffer(o),n.label=3;case 3:return[3,9];case 4:return n.Fh.push([4,8,,9]),h=new Uint8Array(this.response),s.AN(s.filename)?(o=new Blob([h.buffer]),[4,Object(a.a)(o)]):[3,6];case 5:return u=n.fa(),s.fileSize=u.byteLength,t(new Uint8Array(u)),[3,7];case 6:s.fileSize=h.length,t(h),n.label=7;case 7:return[3,9];case 8:return n.fa(),s.trigger(e.Events.ERROR,["pdfLoad","Out of memory"]),[3,9];case 9:return[3,11];case 10:f=r.currentTarget,d=Object(i.b)(f),s.trigger(e.Events.ERROR,["pdfLoad",this.status+" "+f.statusText,d]),n.label=11;case 11:return s.gv=null,[2]}}))}))}),!1),o.onprogress=function(t){s.trigger(e.Events.DOCUMENT_LOADING_PROGRESS,[t.loaded,0<t.total?t.total:0])},o.addEventListener("error",(function(){s.trigger(e.Events.ERROR,["pdfLoad","Network failure"]),s.gv=null}),!1),o.send(),this.gv=o},e.prototype.getFile=function(){var e=this;return new Promise((function(t){if(o.utils.isJSWorker&&t(e.url),e.Raa){var r=Object(n.a)({url:e.url},e.me?{customHeaders:e.me}:{});t(r)}t(null)}))},e.prototype.abort=function(){this.gv&&(this.gv.abort(),this.gv=null)},e.Events={DOCUMENT_LOADING_PROGRESS:"documentLoadingProgress",ERROR:"error"},e}(),Object(e.a)(r),Object(s.a)(r),Object(s.b)(r),t["default"]=r}}])}).call(this||window);